<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://unpkg.com/trieve-search-component@0.0.50/dist/index.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Maven+Pro:wght@400..900&amp;display=swap" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.trieve.ai/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.trieve.ai/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.trieve.ai/favicon-16x16.png" />
  <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>

  <!-- and it's easy to individually load additional languages -->
  <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/go.min.js"></script>

  <script>hljs.highlightAll();</script>

  <style>
    body {
      overflow: hidden;
      font-family: 'Maven Pro', sans-serif;
      line-height: 1.6;
      position: relative;
      display: flex;
      position: relative;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .corner-logo {
      max-width: 120px;
      max-height: 80px;
      position: fixed;
      top: 0.8rem;
      left: 0.8rem;
    }

    .dev-back-button {
      background-color: #f5f5f5;
      border-radius: 0.5rem;
      border: 1px solid #e5e5e5;
      color: black;
      padding: 0.3rem;
      font-size: 0.8rem;
      position: fixed;
      top: 0.5rem;
      left: 0.5rem;
      text-decoration: none;
    }

    .basic {
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
  </style>

  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18",
            "react-dom": "https://esm.sh/react-dom@18",
            "react-dom/client": "https://esm.sh/react-dom@18/client",
            "@thumbmarkjs/thumbmarkjs": "https://esm.sh/@thumbmarkjs/thumbmarkjs",
            "trieve-ts-sdk": "https://esm.sh/trieve-ts-sdk",
            "cheerio": "https://esm.sh/cheerio",
            "react-markdown": "https://esm.sh/react-markdown",
            "@r2wc/react-to-web-component": "https://esm.sh/@r2wc/react-to-web-component"
        }
    }
  </script>

  <script type="module">
    import React, {useState} from 'react';
    import ReactDOM from 'react-dom';

    window.React = React;
    window.ReactDOM = ReactDOM;

    import {TrieveModalSearch} from 'https://unpkg.com/trieve-search-component@0.0.50/dist/index.esm.js';
    window.TrieveModalSearch = TrieveModalSearch;
  </script>

  <script type="text/babel">
    window.addEventListener('load', () => {
      const root = document.getElementById('root');

      const rootElement = window.ReactDOM.createRoot(document.getElementById("root"));

      const App = () => {
        return (
          <>
            <p class="text">
              Trieve Search Component
            </p>
            <window.TrieveModalSearch
              {... {{ params | tojson}}
                }
            />
          </>
        );
      }

      rootElement.render(
        <App />
      )
    });
  </script>

</head>

<body>
    {% if logged_in %}
    <a class="dev-back-button" href="{{dashboard_url}}/dataset/{{params.datasetId}}/public-page">Back To Dashboard</a>
    {% else %}
    <a href="https://trieve.ai">
      <img class="corner-logo" src="{{params.brandLogoImgSrcUrl|safe if (params.brandLogoImgSrcUrl is defined and params.brandLogoImgSrcUrl) else 'https://cdn.trieve.ai/trieve-logo.png'|safe}}"></img>
    </a>
{% endif %}
  <div class="basic">
    <div id="root">
    </div>
    <pre>
      <code class="language-jsx">
import {TrieveModalSearch} from 'trieve-search-component';
import 'trieve-search-component/dist/index.css';

const App = () => {
  return (
    &lt;TrieveModalSearch 
        {% if params.apiKey -%}
        apiKey="{{ params.apiKey }}"
        {% endif -%}
        {% if params.baseUrl -%}
        baseUrl="{{ params.baseUrl }}"
        {% endif -%}
        {% if params.suggestedQueries -%}
        suggestedQueries={{ params.suggestedQueries }}
        {% endif -%}
        {% if params.analytics -%}
        analytics={{ params.analytics }}
        {% endif -%}
        {% if params.responsive -%}
        responsive={{ params.responsive }}
        {% endif -%}
        {% if params.chat -%}
        chat="{{ params.chat}}"
        {% endif -%}
        {% if params.theme -%}
        theme="{{ params.theme }}"
        {% endif -%}
        {% if params.search_options -%}
        search_options={{ params.searchOptions }}
        {% endif -%}
        {% if params.brandLogoImgSrcUrl -%}
        brandLogoImgSrcUrl="{{ params.brandLogoImgSrcUrl }}"
        {% endif -%}
        {% if params.brandName -%}
        brandName="{{ params.brandName }}"
        {% endif -%}
        {% if params.problemLink -%}
        problemLink="{{ params.problemLink }}"
        {% endif -%}
        {% if params.brandColor -%}
        brandColor="{{ params.brandColor }}"
        {% endif -%}
        {% if params.placeholder -%}
        placeholder="{{ params.placeholder }}"
        {% endif -%}
        {% if params.defaultSearchQueries -%}
        defaultSearchQueries={{ params.defaultSearchQueries }}
        {% endif -%}
        {% if params.defaultAiQuestions -%}
        defaultAiQuestions={{ params.defaultAiQuestions }}
        {% endif -%}
        {% if params.defaultSearchMode -%}
        defaultSearchMode="{{ params.defaultSearchMode }}"
        {% endif -%}
        {% if params.useGroupSearch -%}
        useGroupSearch={{ params.useGroupSearch }}
        {% endif -%}
        {% if params.allowSwitchingModes -%}
        allowSwitchingModes={{ params.allowSwitchingModes }}
        {% endif -%}
        {% if params.defaultCurrency -%}
        defaultCurrency="{{ params.defaultCurrency }}"
        {% endif -%}
        {% if params.currencyPosition -%}
        currencyPosition="{{ params.currencyPosition }}"
        {% endif -%}
        {% if params.debounceMs -%}
        debounceMs={{ params.debounceMs }}
        {% endif -%}
          /&gt;
  );
}
      </code>
    </pre>
  </div>
</body>

</html>
